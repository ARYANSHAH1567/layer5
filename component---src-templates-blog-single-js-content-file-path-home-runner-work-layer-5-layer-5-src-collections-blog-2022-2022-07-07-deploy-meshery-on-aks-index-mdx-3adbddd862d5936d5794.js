"use strict";(self.webpackChunkLayer5=self.webpackChunkLayer5||[]).push([[12419],{93011:function(e,t,n){n.r(t),n.d(t,{Head:function(){return h},default:function(){return i}});var r=n(39626),a=n(67294),l=n.p+"static/mesheryui-c85131f04313bafd3a0b677304a229a3.webp";function o(e){var t=Object.assign({p:"p",pre:"pre",code:"code",a:"a"},(0,r.ah)(),e.components),n=t.BlogWrapper;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("BlogWrapper",!0),a.createElement(n,null,a.createElement("div",{className:"intro"},a.createElement("p",null,a.createElement("a",{href:"https://meshery.io/"},"Meshery"),"'s goal is to make the operation of cloud native infrastructure and the service mesh layer of cloud simplified. Originally created by Layer5, Meshery is an open source project with hundreds of contributors world-wide and is actively maintained by engineers from Red Hat, VMware, Intel, Layer5 and others.")),a.createElement("h2",null,"Setup and run Meshery on AKS"),a.createElement("p",null,"The following instructions expects you to have an active Azure subscription, and Azure CLI installed on your system. "),a.createElement("h3",null," Spin up the AKS Cluster"),a.createElement("p",null,"Create the resource group (a logical group where all our resources will be deployed). The following command creates  a resource group named MesheryGroup in ",a.createElement("code",null,"southindia")," location. "),a.createElement("pre",null,a.createElement("code",{className:"language-bash"},a.createElement(t.p,null,"az group create --name MesheryGroup --location southindia"))),a.createElement("p",null,"Create AKS cluster using ",a.createElement("code",null,"az aks create"),". The following command creates aks cluster with a single node. "),a.createElement("pre",null,a.createElement("code",{className:"language-bash"},a.createElement(t.p,null,"az aks create --resource-group MesheryGroup --name MesheryAKS --node-count 1 --generate-ssh-keys"))),a.createElement("p",null,"After a few minutes, the command completes and returns a JSON formatted information about the cluster."),a.createElement("p",null,"You can connect with your cluster by using ",a.createElement("code",null,"az aks get-credentials")," ,  which basically downloads credentials and configure the Kubernetes CLI. "),a.createElement("pre",null,a.createElement("code",null,a.createElement(t.p,null,"az aks get-credentials --resource-group MesheryGroup --name MesheryAKS"))),a.createElement("p",null,"Verify the connection to your cluster using the ",a.createElement("code",null,"kubectl get command"),". "),a.createElement("pre",null,a.createElement("code",null,a.createElement(t.p,null,"$kubectl get nodes"))),a.createElement("h3",null,"Install Meshery into your AKS cluster"),a.createElement(t.pre,null,a.createElement(t.code,null,"helm repo add meshery https://meshery.io/charts/\n\nhelm install meshery meshery/meshery --namespace meshery --create-namespace\n\n")),a.createElement("p",null,"Meshery server supports customizing authentication flow callback URL, which can be configured in the following way."),a.createElement("pre",null,a.createElement("code",null,a.createElement(t.p,null,"helm install meshery meshery/meshery --namespace meshery --set env.MESHERY_SERVER_CALLBACK_URL=",a.createElement(t.a,{href:"https://custom-host"},"https://custom-host")," --create-namespace"))),a.createElement("p",null,"Port forward to Meshery UI"),a.createElement(t.pre,null,a.createElement(t.code,null,'export POD_NAME=$(kubectl get pods --namespace meshery -l "app.kubernetes.io/name=meshery,app.kubernetes.io/instance=meshery" -o jsonpath="{.items[0].metadata.name}")\n\n$ kubectl --namespace meshery port-forward $POD_NAME 9081:8080\n\n')),a.createElement("p",null,"Meshery should now be running in your AKS cluster and the Meshery UI should be accessible at the specified endpoint you’ve exposed to. Navigate to the meshery service endpoint to log into Meshery."),a.createElement("div",null,a.createElement("img",{src:l,className:"image-center",alt:"Meshery UI Dashboard"})),a.createElement("p",null,"From here, your Meshery deployment on AKS is ready to use. In order to login to Meshery, authenticate with your chosen provider from the list."),a.createElement("p",null,"There are different ways to configure a Meshery on AKS. Join the ",a.createElement("a",{href:"https://layer5.io/community"},"community")," and share your deployment’s configuration on the ",a.createElement("a",{href:"https://discuss.layer5.io/"}," discussion forum "),"today! "))}var c=function(e){void 0===e&&(e={});var t=Object.assign({},(0,r.ah)(),e.components).wrapper;return t?a.createElement(t,e,a.createElement(o,e)):o(e)};var s=n(17875),u=n(85235),m=function(e){var t=e.data,n=e.children;return a.createElement(a.Fragment,null,a.createElement(u.Z,{data:t},n))};function i(e){return a.createElement(m,e,a.createElement(c,e))}var h=function(e){var t=e.data;return a.createElement(s.Z,{title:t.mdx.frontmatter.title,image:t.mdx.frontmatter.thumbnail.publicURL})}}}]);