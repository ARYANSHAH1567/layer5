(self.webpackChunkLayer5=self.webpackChunkLayer5||[]).push([[45126],{78705:function(e,t,n){var r=n(15301).w_;e.exports.O=function(e){return r({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm43.4 289.1c7.5 7.5 7.5 19.8 0 27.3-3.8 3.8-8.7 5.6-13.6 5.6s-9.9-1.9-13.7-5.7l-94-94.3c-6.9-7.6-6.7-19.3.6-26.6l95.4-95.7c7.5-7.5 19.7-7.6 27.3 0 7.5 7.5 7.6 19.7 0 27.3l-81.9 81 79.9 81.1z"}}]})(e)}},2046:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return d},default:function(){return u}});var r=n(39626),a=n(67294);function l(e){var t=Object.assign({p:"p",pre:"pre",code:"code"},(0,r.ah)(),e.components),n=t.ResourcesWrapper;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ResourcesWrapper",!0),a.createElement(n,null,a.createElement("p",null,a.createElement(t.p,null,"Istio Virtual Service defines a set of traffic routing rules to apply when host is addressed. Each routing rule defines standards for the traffic of a specific protocol. If the traffic is matched, then it is sent to a named destination service defined in the registry.")),a.createElement("p",null,a.createElement(t.p,null,"The source of traffic can also be matched within a routing rule that allows routing to be customized for every specific client context.")),a.createElement("div",{className:"fact-left"},a.createElement("p",null,a.createElement(t.p,null,"The below example on Kubernetes routes all HTTP traffic by default to pods of the reviews service with the label “version: v1”. Additionally, HTTP requests with path starting with /wpcatalog/ or /consumercatalog/ will be rewritten to /newcatalog and sent to the pods with label “version: v2”."))),a.createElement(t.pre,null,a.createElement(t.code,null,'apiVersion: networking.istio.io/v1alpha3\nkind: VirtualService\nmetadata:\n  name: reviews-route\nspec:\n  hosts:\n  - reviews.prod.svc.cluster.local\n  http:\n  - name: "reviews-v2-routes"\n    match:\n    - uri:\n        prefix: "/wpcatalog"\n    - uri:\n        prefix: "/consumercatalog"\n    rewrite:\n      uri: "/newcatalog"\n    route:\n    - destination:\n        host: reviews.prod.svc.cluster.local\n        subset: v2\n  - name: "reviews-v1-route"\n    route:\n    - destination:\n        host: reviews.prod.svc.cluster.local\n        subset: v1\n\n')),a.createElement("h2",null,"Virtual Service Configuration Affecting Traffic Routing "),a.createElement("p",null,"A single Virtual Service can be used to describe all the traffic properties of the hosts, including those for multiple HTTP and TCP ports."),a.createElement("div",null,a.createElement("h3",null,"Hosts"),a.createElement("ul",null,a.createElement("li",null,a.createElement(t.p,null,"The application traffic created by hosts, clients, servers, and applications that use the network as a transport is contained in the physical network data plane (also known as the forwarding plane).\nAs a result, data plane traffic should never have source or destination IP addresses that are assigned to network elements like routers and switches; instead, it should be originated from and delivered to end devices like PCs and servers. To forward data plane traffic as swiftly as possible, routers and switches use hardware chips called application-specific integrated circuits (ASICs). A forwarding information base is referenced by the physical networking data plane (FIB).")),a.createElement("li",null,a.createElement(t.p,null,"The destination hosts to which traffic is being sent it could be a DNS name with wildcard prefix or an IP address depending on the platform.")))),a.createElement("div",null,a.createElement("h3",null,"Gateways"),a.createElement("ul",null,a.createElement("li",null,a.createElement(t.p,null,"The names of gateways and sidecars that should apply all these routes. Gateways in other namespaces may be referred to by ",a.createElement("code",null," gateway namespace>/gateway name "),"; specifying a gateway with no namespace qualifier is the same as specifying the VirtualService’s namespace.")))),a.createElement("div",null,a.createElement("h3",null,"HTTP"),a.createElement("ul",null,a.createElement("li",null,a.createElement(t.p,null,"An ordered list of route rules for HTTP traffic. The HTTP routes will be applied to the platform service ports named ",a.createElement("code",null,"‘http-’/‘http2-’/‘grpc-*’, gateway ports with protocol HTTP/HTTP2/GRPC/ TLS-terminated-HTTPS ")," and service entry ports using HTTP/HTTP2/GRPC protocols.")),a.createElement("li",null,a.createElement(t.p,null,"The first rule is matching an incoming request which is used.")))),a.createElement("div",null,a.createElement("h3",null,"TCP"),a.createElement("ul",null,a.createElement("li",null,a.createElement(t.p,null,"An ordered list of all the routing rules for opaque TCP traffic. TCP routes will be applied to any of the port which is not a HTTP or TLS port.")))),a.createElement("div",null,a.createElement("h3",null,"ExportTo"),a.createElement("ul",null,a.createElement("li",null,a.createElement(t.p,null,"Exporting a virtual service allows it to be used by the sidecars and the gateways defined in other namespaces.")),a.createElement("li",null,a.createElement(t.p,null,"If no namespaces are specified then the virtual service is exported to all namespaces by default.")))),a.createElement("h2",null,a.createElement(t.p,null,"Destination")),a.createElement("p",null,a.createElement(t.p,null,"A destination indicates that the network addressable service to which the request/connection will be sent. A DestinationRule defines policies that apply to traffic intended for a service after routing has occurred.")),a.createElement(t.pre,null,a.createElement(t.code,null,"apiVersion: networking.istio.io/v1alpha3\nkind: DestinationRule\nmetadata:\n  name: reviews-destination\nspec:\n  host: reviews.prod.svc.cluster.local\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n\n")),a.createElement("div",{className:"fact-left"},a.createElement("p",null,"A version of the route destination is identified with a reference to a named service subset which should be declared in a corresponding DestinationRule.")))}var i=function(e){void 0===e&&(e={});var t=Object.assign({},(0,r.ah)(),e.components).wrapper;return t?a.createElement(t,e,a.createElement(l,e)):l(e)};var o=n(17875),s=n(72417),c=function(e){var t=e.data,n=e.children;return a.createElement(a.Fragment,null,a.createElement(s.Z,{data:t},n))};function u(e){return a.createElement(c,e,a.createElement(i,e))}var d=function(e){var t=e.data;return a.createElement(o.Z,{title:t.mdx.frontmatter.title,image:t.mdx.frontmatter.thumbnail.publicURL})}},72417:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(67294),a=n(71082),l=n(40156),i=n(6652),o=n(33754),s=n(85313).default.div.withConfig({displayName:"resourceSinglestyle__ResourcePageWrapper",componentId:"sc-gfz8rr-0"})(["\n    color: ",";\n    .single-resource-wrapper{\n        margin-bottom: 4rem;\n\n        h3 {\n            text-align: center;\n        }\n    }\n\n    .resource-info-block{\n        margin-top: 3rem;\n        border-bottom: 1px solid ",";\n        padding-bottom: 2rem;\n    }\n    p {\n        color: ",";\n    }\n    li {\n        color: ",";\n    }\n    .backBtn {\n        margin: 3rem auto;\n        font-weight: 600;\n        z-index: 2;\n\n        @media screen and (max-width: 62rem) {\n            display: none;\n        }\n        a{\n            display: flex;\n            color: ",";\n            &:hover{\n                color: ",";\n            }\n\n            h4 {\n                line-height: 1.75rem;\n                margin-left: 0.5rem;\n            }\n            svg {\n                font-size: 1.75rem;\n            }\n        }\n    }\n\n    .tags{\n        display: flex;\n        span{\n            font-size: 1.2rem;\n            align-self: center;\n        }\n        a{\n            color: ",";\n            margin: 0.2rem;\n            display: inline-block;\n            padding: 0.3rem 0.8rem;\n            border-radius: 0.2rem;\n            background: #F0F0F0;\n            transition: all 0.3s linear;\n            &:hover{\n                background: ",";\n                color: ",";\n            }\n        }\n        div{\n            display: inline-flex;\n            flex-wrap: wrap;\n        }\n    }\n    @media screen and (max-width: 360px){\n        .tags{\n            span{\n                position: relative;\n                top: 0.5rem;\n                align-self: flex-start;\n            }\n        }\n    }\n"],(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.linkColor}),(function(e){return e.theme.black}),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.white})),c=n(75472),u=n.n(c),d=n(64721),m=n.n(d);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(){function e(e,t){this.resources=e.filter((function(e){return e.fields.slug!==t})),this.currentResourceSlug=t,this.maxResources=6,this.category=null,this.tags=[]}var t=e.prototype;return t.setMaxResources=function(e){return this.maxResources=e,this},t.setCategory=function(e){return this.category=e,this},t.setTags=function(e){return this.tags=e,this},t.getResources=function(){var e=this.category,t=this.tags,n=this.resources,r=this.maxResources,a={};if(!1==!!t||0===t.length)return console.error("RelatedResourcesFactory: Tags not provided, use setTags()."),[];if(!1==!!e)return console.error("RelatedResourcesFactory: Category not provided, use setCategory()."),[];for(var l,i=function(e){return e.fields.slug},o=function(e){var t=i(e);Object.prototype.hasOwnProperty.call(a,t)||(a[t]={resource:e,points:0})},s=function(e,t){var n=i(e);e.frontmatter.category===t&&(a[n].points+=2)},c=function(e,t){var n=i(e);e.frontmatter.tags.forEach((function(e){m()(t,e)&&(a[n].points+=1)}))},d=p(n);!(l=d()).done;){var f=l.value;o(f),s(f,e),c(f,t)}var h=Object.keys(a).map((function(e){return a[e]}));return u()(h,["points"],["desc"]).splice(0,r)},e}(),g=n(78705),v=(0,l.ZP)((function(){return n.e(35575).then(n.bind(n,59434))})),w=(0,l.ZP)((function(){return Promise.all([n.e(40532),n.e(67326),n.e(18514)]).then(n.bind(n,24210))})),E=function(e){var t=e.data,n=e.children,l=t.mdx,c=l.frontmatter,u=l.fields,d=(0,a.useStaticQuery)("2848499768").allMdx.nodes,m=new h(d,u.slug).setMaxResources(6).setCategory(c.category).setTags(c.tags).getResources();return r.createElement(s,null,r.createElement(o.Z,{title:c.title,subtitle:c.subtitle,thumbnail:c.thumbnail}),r.createElement("div",{className:"single-resource-wrapper"},r.createElement(i.W2,null,n,r.createElement(v,{category:"MeshMap"}),r.createElement("div",{className:"backBtn"},r.createElement(a.Link,{to:"/resources"},r.createElement(g.O,null),r.createElement("h4",null,"All Resources"))),r.createElement(w,{resourceType:"resources",relatedResources:m,mainHead:"Related Resources",lastCardHead:"All Resources",linkToAllItems:"/resources"}))))}}}]);