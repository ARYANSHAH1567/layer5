(self.webpackChunkLayer5=self.webpackChunkLayer5||[]).push([[98868],{78705:function(e,t,n){var r=n(15301).w_;e.exports.O=function(e){return r({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm43.4 289.1c7.5 7.5 7.5 19.8 0 27.3-3.8 3.8-8.7 5.6-13.6 5.6s-9.9-1.9-13.7-5.7l-94-94.3c-6.9-7.6-6.7-19.3.6-26.6l95.4-95.7c7.5-7.5 19.7-7.6 27.3 0 7.5 7.5 7.6 19.7 0 27.3l-81.9 81 79.9 81.1z"}}]})(e)}},17427:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return h},default:function(){return m}});var r=n(39626),a=n(67294),i=n.p+"static/istio-securityarch.48cc1d41.svg";function o(e){var t=Object.assign({p:"p",pre:"pre",code:"code"},(0,r.ah)(),e.components),n=t.ResourcesWrapper;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ResourcesWrapper",!0),a.createElement(n,null,a.createElement("div",{className:"intro"},a.createElement("p",null,a.createElement(t.p,null,"Istio is a massive project with a wide range of capabilities and deployment options. We will learn about the Istio’s authorization policy with an example ."))),a.createElement("p",null,a.createElement("h2",null,"Let’s see Istio’s Security Architecture ")),a.createElement("p",null,a.createElement(t.p,null,"Before we directly jump into Istio's Authorization policies let's have a glance at Istio's Security architecture. The below diagram is directly referenced from Istio documentation. From the control plane, users can create things like authorization policies authentication policies, and policies will get translated into envoy config and streamed bent the varied proxies that form up the service mesh, on the information plane side there is east-west traffic from service b to c and also the actual communication takes place through sidecar proxies. If the traffic is entering it moves to the Ingress gateway and if it’s leaving it can attend the Egress gateway in between all this we will apply JWT enforcements.")),a.createElement("p",null,a.createElement("img",{src:i,align:"center",alt:"comparative spectrum"})),a.createElement("h2",null," Istio includes a high-level architecture that involves multiple factors such as:"),a.createElement("p",null,a.createElement("ul",null,a.createElement("li",null,"  Certificate Authority for key and certificate management "),a.createElement("li",null," Sidecar and perimeter proxies work as Policy Enforcement Points to secure communication between the clients and servers. "),a.createElement("li",null," A set of Envoy proxy extensions is there to manage telemetry and auditing "))),a.createElement("h2",null," Istio’s Authorization policies"),a.createElement("p",null,a.createElement("ul",null,a.createElement("li",null,"  Workload-to-workload and end-user-to-workload authorization. "),a.createElement("li",null," A Simple API includes one single Authorization Policy, which is easy to use and maintain."),a.createElement("li",null,"Flexible semantics: operators can define custom conditions on Istio attributes, and use DENY and permit actions. "),a.createElement("li",null,"  High performance: Istio authorization gets enforced natively on the Envoy. "),a.createElement("li",null," High compatibility: supports gRPC, HTTP, HTTPS, and HTTP2 natively, additionaly as well as any plain TCP protocols. "))),a.createElement("h2",null,a.createElement(t.p,null,"Example Authorization Policy")),a.createElement("p",null,a.createElement(t.p,null,"In this example, we allow access to our service httpbin in namespace foo from any JWT (regardless of the principle) to use the GET method.")),a.createElement(t.pre,null,a.createElement(t.code,null,'apiVersion: "security.istio.io/v1beta1"\nkind: "AuthorizationPolicy"\nmetadata:\n  name: "allow-reads"\n  namespace: foo\nspec:\n  selector:\n    matchLabels:\n      app: httpbin\n  rules:\n  - from:\n    - source:\n        principals: ["*"]\n    to:\n    - operation:\n        methods: ["GET"]\n\n')),a.createElement("h2",null,"Access Flow with Auth Policies"),a.createElement("p",null,a.createElement(t.p,null,"There is some logic behind how authorization is set given defined AuthorizationPolicies. Below is that the flow as taken directly from the Istio documentation.")),a.createElement("ul",null,a.createElement("li",null,"If there are any CUSTOM policies that match the request, evaluate and deny the request if the evaluation result's is deny."),a.createElement("li",null,"If there are any DENY policies that match with the request, deny the request."),a.createElement("li",null,"If there are not any ALLOW policies for the workload, allow the request."),a.createElement("li",null,"If any of the ALLOW policies gets match with the request, allow the request."),a.createElement("li",null,"Deny the request.")))}var l=function(e){void 0===e&&(e={});var t=Object.assign({},(0,r.ah)(),e.components).wrapper;return t?a.createElement(t,e,a.createElement(o,e)):o(e)};var s=n(17875),c=n(72417),u=function(e){var t=e.data,n=e.children;return a.createElement(a.Fragment,null,a.createElement(c.Z,{data:t},n))};function m(e){return a.createElement(u,e,a.createElement(l,e))}var h=function(e){var t=e.data;return a.createElement(s.Z,{title:t.mdx.frontmatter.title,image:t.mdx.frontmatter.thumbnail.publicURL})}},72417:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(67294),a=n(71082),i=n(40156),o=n(6652),l=n(33754),s=n(85313).default.div.withConfig({displayName:"resourceSinglestyle__ResourcePageWrapper",componentId:"sc-gfz8rr-0"})(["\n    color: ",";\n    .single-resource-wrapper{\n        margin-bottom: 4rem;\n\n        h3 {\n            text-align: center;\n        }\n    }\n\n    .resource-info-block{\n        margin-top: 3rem;\n        border-bottom: 1px solid ",";\n        padding-bottom: 2rem;\n    }\n    p {\n        color: ",";\n    }\n    li {\n        color: ",";\n    }\n    .backBtn {\n        margin: 3rem auto;\n        font-weight: 600;\n        z-index: 2;\n\n        @media screen and (max-width: 62rem) {\n            display: none;\n        }\n        a{\n            display: flex;\n            color: ",";\n            &:hover{\n                color: ",";\n            }\n\n            h4 {\n                line-height: 1.75rem;\n                margin-left: 0.5rem;\n            }\n            svg {\n                font-size: 1.75rem;\n            }\n        }\n    }\n\n    .tags{\n        display: flex;\n        span{\n            font-size: 1.2rem;\n            align-self: center;\n        }\n        a{\n            color: ",";\n            margin: 0.2rem;\n            display: inline-block;\n            padding: 0.3rem 0.8rem;\n            border-radius: 0.2rem;\n            background: #F0F0F0;\n            transition: all 0.3s linear;\n            &:hover{\n                background: ",";\n                color: ",";\n            }\n        }\n        div{\n            display: inline-flex;\n            flex-wrap: wrap;\n        }\n    }\n    @media screen and (max-width: 360px){\n        .tags{\n            span{\n                position: relative;\n                top: 0.5rem;\n                align-self: flex-start;\n            }\n        }\n    }\n"],(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.linkColor}),(function(e){return e.theme.black}),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.white})),c=n(75472),u=n.n(c),m=n(64721),h=n.n(m);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(){function e(e,t){this.resources=e.filter((function(e){return e.fields.slug!==t})),this.currentResourceSlug=t,this.maxResources=6,this.category=null,this.tags=[]}var t=e.prototype;return t.setMaxResources=function(e){return this.maxResources=e,this},t.setCategory=function(e){return this.category=e,this},t.setTags=function(e){return this.tags=e,this},t.getResources=function(){var e=this.category,t=this.tags,n=this.resources,r=this.maxResources,a={};if(!1==!!t||0===t.length)return console.error("RelatedResourcesFactory: Tags not provided, use setTags()."),[];if(!1==!!e)return console.error("RelatedResourcesFactory: Category not provided, use setCategory()."),[];for(var i,o=function(e){return e.fields.slug},l=function(e){var t=o(e);Object.prototype.hasOwnProperty.call(a,t)||(a[t]={resource:e,points:0})},s=function(e,t){var n=o(e);e.frontmatter.category===t&&(a[n].points+=2)},c=function(e,t){var n=o(e);e.frontmatter.tags.forEach((function(e){h()(t,e)&&(a[n].points+=1)}))},m=p(n);!(i=m()).done;){var d=i.value;l(d),s(d,e),c(d,t)}var f=Object.keys(a).map((function(e){return a[e]}));return u()(f,["points"],["desc"]).splice(0,r)},e}(),g=n(78705),y=(0,i.ZP)((function(){return n.e(35575).then(n.bind(n,59434))})),E=(0,i.ZP)((function(){return Promise.all([n.e(40532),n.e(67326),n.e(18514)]).then(n.bind(n,24210))})),v=function(e){var t=e.data,n=e.children,i=t.mdx,c=i.frontmatter,u=i.fields,m=(0,a.useStaticQuery)("2848499768").allMdx.nodes,h=new f(m,u.slug).setMaxResources(6).setCategory(c.category).setTags(c.tags).getResources();return r.createElement(s,null,r.createElement(l.Z,{title:c.title,subtitle:c.subtitle,thumbnail:c.thumbnail}),r.createElement("div",{className:"single-resource-wrapper"},r.createElement(o.W2,null,n,r.createElement(y,{category:"MeshMap"}),r.createElement("div",{className:"backBtn"},r.createElement(a.Link,{to:"/resources"},r.createElement(g.O,null),r.createElement("h4",null,"All Resources"))),r.createElement(E,{resourceType:"resources",relatedResources:h,mainHead:"Related Resources",lastCardHead:"All Resources",linkToAllItems:"/resources"}))))}}}]);