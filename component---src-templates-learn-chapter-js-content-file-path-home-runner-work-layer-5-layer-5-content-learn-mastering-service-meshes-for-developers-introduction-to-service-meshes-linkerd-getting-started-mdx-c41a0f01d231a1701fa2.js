"use strict";(self.webpackChunkLayer5=self.webpackChunkLayer5||[]).push([[80393],{31210:function(e,t,n){n.r(t),n.d(t,{Head:function(){return h},default:function(){return u}});var l=n(39626),a=n(67294),r=n.p+"static/linkerd-adapter-5e4775d8fe54eceae67ab162cc170d82.webp",c=n.p+"static/install-linkerd-72fdec49d09b40484ea0bc885337b193.webp";function i(e){var t=Object.assign({p:"p",ol:"ol",li:"li",a:"a",code:"code",pre:"pre"},(0,l.ah)(),e.components),n=t.ChapterStyle;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("ChapterStyle",!0),a.createElement(n,null,a.createElement("h2",{className:"chapter-sub-heading"},"Setup Linkerd"),a.createElement(t.p,null,"Now that we have a Kubernetes cluster and Meshery, we are ready to download and deploy Linkerd resources."),a.createElement("h2",{className:"chapter-sub-heading"},"Steps"),a.createElement(t.ol,null,"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"#1"},"Install Linkerd")),"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"#2"},"Verify install")),"\n",a.createElement(t.li,null,a.createElement(t.a,{href:"#3"},"Confirm add-ons")),"\n"),a.createElement("h3",{className:"chapter-sub-heading"},a.createElement("a",{name:"1"},"Install Linkerd")),a.createElement(t.p,null,"Using Meshery, select ",a.createElement(t.code,null,"Linkerd")," from the ",a.createElement(t.code,null,"Management")," menu."),a.createElement("a",{href:r},a.createElement("img",{src:r})),a.createElement(t.p,null,"In the Linkerd management page:"),a.createElement(t.ol,null,"\n",a.createElement(t.li,null,"\n",a.createElement(t.p,null,"Type ",a.createElement(t.code,null,"linkerd")," into the namespace field."),"\n"),"\n",a.createElement(t.li,null,"\n",a.createElement(t.p,null,"Click the (+) icon on the ",a.createElement(t.code,null,"Install")," card and select ",a.createElement(t.code,null,"Latest Linkerd")," to install the latest version of Linkerd."),"\n",a.createElement("a",{href:c},a.createElement("img",{src:c,align:"center"})),"\n"),"\n")," ",a.createElement("h3",null,"Alternative: Manual Installation"),a.createElement(t.p,null,"Perform the below steps if the above steps doesn't work for you."),a.createElement("h4",{className:"chapter-alt-heading"},"Download ",a.createElement(t.code,null,"linkerd")," CLI"),a.createElement(t.p,null,"On a *nix system, you can setup linkerd by doing the following:"),a.createElement(t.p,null,"The above command will get the latest Linkerd package and untar it in the same folder."),a.createElement(t.p,null,"Change into the Linkerd package directory and add the linkerd client to your PATH environment variable."),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"curl -sL https://run.linkerd.io/install | sh\nexport PATH=$PATH:$HOME/.linkerd2/bin\n")),a.createElement(t.p,null,"Alternatively, on MacOS you can sue ",a.createElement(t.code,null,"HomeBrew")," to install ",a.createElement(t.code,null,"linkerd")),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"brew install linkerd\n")),a.createElement(t.p,null,"To verify ",a.createElement(t.code,null,"linkerd")," is setup lets try to print out the command help"),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"linkerd version\n")),a.createElement(t.p,null,"We can use a new feature in linkerd to check if the cluster is ready for install:"),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"linkerd check --pre\n")),a.createElement("h4",{className:"chapter-alt-heading"},"Install Linkerd:"),a.createElement(t.p,null,"Deploy Linkerd custom resources:"),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"linkerd install | kubectl apply -f -\n")),a.createElement("h3",{className:"chapter-sub-heading"},a.createElement("a",{name:"2"},"Verify install")),a.createElement(t.p,null,"Linkerd is deployed in the ",a.createElement(t.code,null,"linkerd")," Kubernetes namespace. Verify that Linkerd and its components are deployed, execute the command:"),a.createElement(t.pre,null,a.createElement(t.code,{className:"language-sh"},"linkerd check\n")),a.createElement("h3",{className:"chapter-sub-heading"},a.createElement("a",null,"Enforce mTLS strict mode")),a.createElement(t.p,null,"By establishing mutually-authenticated connections between Linkerd proxies , Linkerd automatically enables mutual Transport Layer Security (mTLS) by default for most HTTP-based communication between services."),a.createElement("h3",{className:"chapter-sub-heading"},a.createElement("a",{name:"3"},"Confirming Add-ons")),a.createElement(t.p,null,"Linkerd, as part of this workshop, is installed with several optional addons like:"),a.createElement(t.ol,null,"\n",a.createElement(t.li,null,"Prometheus ",a.createElement("a",{href:"https://prometheus.io/"},"(site)")),"\n",a.createElement(t.li,null,"Grafana ",a.createElement("a",{href:"https://grafana.com/"},"(site)")),"\n",a.createElement(t.li,null,"Jaeger ",a.createElement("a",{href:"https://www.jaegertracing.io/"},"(site)")),"\n",a.createElement(t.li,null,"Dashboard ",a.createElement("a",{href:"https://linkerd.io/2.10/reference/architecture/#dashboard"},"(site)")),"\n"),a.createElement(t.p,null,"You will use Meshery for collecting and viewing metrics, and Jaeger for viewing distributed traces."))}var s=function(e){void 0===e&&(e={});var t=Object.assign({},(0,l.ah)(),e.components).wrapper;return t?a.createElement(t,e,a.createElement(i,e)):i(e)};var o=n(17875),m=n(5802),d=function(e){var t=e.data,n=e.location,l=t.TOC.nodes.sort((function(e,t){var n,l;return(null!==(n=e.frontmatter)&&void 0!==n&&n.order?e.frontmatter.order:100)-(null!==(l=t.frontmatter)&&void 0!==l&&l.order?t.frontmatter.order:100)}));return a.createElement(a.Fragment,null,a.createElement(m.Z,{chapterData:t.chapter,TOCData:l,courseData:t.course.nodes[0],location:n,serviceMeshesList:t.serviceMeshesList.nodes}))};function u(e){return a.createElement(d,e,a.createElement(s,e))}var h=function(e){var t=e.data;return a.createElement(o.Z,{title:t.chapter.frontmatter.chapterTitle,canonical:"https://layer5.io/learn/learning-paths"})}}}]);